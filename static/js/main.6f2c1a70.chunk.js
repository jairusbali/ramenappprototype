(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{164:function(e,t,a){e.exports=a(368)},347:function(e,t,a){},368:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),o=a.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(45),c=a(18),s=a(9),u=a(50),d=a(51),m=a(54),p=a(52),g=a(55),h=a(32),f=a(26),E=a.n(f),b=a(16),y=a(78),v=a.n(y),O=a(53),k=a.n(O),j=a(37),w=a.n(j),S=a(79),T=a.n(S),C=a(28),x=a.n(C),I=a(10),N=a.n(I),A=a(5),D=a.n(A),_=a(66),R=a.n(_);a(307);var P=function(e,t){return{type:"AUTH_SUCCESS",idToken:e,userId:t}},F=function(e,t,a){return function(n){n({type:"AUTH_START"});var r={email:e,password:t,returnSecureToken:!0},i="https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyCc105jdNCASMJIslySAslIHCJF3zn7eFQ";a||(i="https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyCc105jdNCASMJIslySAslIHCJF3zn7eFQ"),R.a.post(i,r).then(function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.localId),n(P(e.data.idToken,e.data.localId)),n(L(e.data.expiresIn))}).catch(function(e){console.log(e),n(function(e){return{type:"AUTH_FAIL",error:e}}(e))})}},L=function(e){return function(t){setTimeout(function(){t(q())},1e3*e)}},q=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:"AUTH_LOGOUT"}},H=R.a.create({baseURL:"https://ramen-app-60399.firebaseio.com/"}),M=function(){return{type:"SEND_ORDERS_INIT"}},U=function(e){return{type:"SEND_ORDERS_SUCCESS",purchaseOrderId:e}},V=function(e){return{type:"SEND_ORDERS_FAIL",error:e}},W=a(44),B=a(144),G=a.n(B),J=a(148),z=a.n(J),Y=a(146),X=a.n(Y),K=a(147),Q=a.n(K),Z=a(145),$=a.n(Z),ee=a(102),te=a.n(ee);function ae(e){return r.a.createElement(te.a,Object.assign({direction:"up"},e))}var ne=function(e){return r.a.createElement("div",null,r.a.createElement(G.a,{open:e.show,TransitionComponent:ae,keepMounted:!0,onClose:function(){return e.cancelAction()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement($.a,{id:"alert-dialog-slide-title"},e.title),r.a.createElement(X.a,null,r.a.createElement(Q.a,{id:"alert-dialog-slide-description"}),e.content),r.a.createElement(z.a,null,r.a.createElement(E.a,{onClick:function(){return e.cancelAction()},color:"primary",variant:"contained"},"Cancel"),r.a.createElement(E.a,{onClick:function(){return e.okAction()},color:"primary",variant:"contained"},"OK"))))},re=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=Object(s.a)({},a.state).formData;console.log(e.target.name,e.target.value),t[e.target.name]=e.target.value,a.setState({formData:t})},a.state={formData:{email:"",password:"",repeatPassword:""},submitted:!1},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.ValidatorForm.addValidationRule("isPasswordMatch",function(t){return t===e.state.formData.password}),b.ValidatorForm.addValidationRule("minLenghth7Chars",function(e){return e.length>=7})}},{key:"render",value:function(){var e=this,t=this.state,a=t.formData,n=t.submitted,i=this.props.classes,o=this.props.isAuthenticated?r.a.createElement(W.a,{to:"/orders"}):null,l=this.props.error?r.a.createElement(ne,Object.assign({},this.state.props,{title:"Warning",content:this.props.error.toString().replace("_"," "),show:null!=this.props.error,okAction:function(){return e.props.logout()},cancelAction:function(){return e.props.logout()}})):null;return r.a.createElement("main",{className:i.main},o,r.a.createElement(k.a,null),r.a.createElement(x.a,{className:i.paper},r.a.createElement(v.a,{className:i.avatar},r.a.createElement(T.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"Sign up"),l,r.a.createElement(b.ValidatorForm,{onSubmit:function(){return e.props.onAuth(a.email,a.password,!0)}},r.a.createElement(w.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(b.TextValidator,{label:"Email",onChange:this.handleChange,name:"email",value:a.email,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]})),r.a.createElement(w.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(b.TextValidator,{label:"Password",onChange:this.handleChange,name:"password",type:"password",validators:["required","minLenghth7Chars"],errorMessages:["this field is required","Password needs to be at least 7 characters"],value:a.password})),r.a.createElement(w.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(b.TextValidator,{label:"Repeat password",onChange:this.handleChange,name:"repeatPassword",type:"password",validators:["isPasswordMatch","required"],errorMessages:["password mismatch","this field is required"],value:a.repeatPassword})),r.a.createElement(w.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(E.a,{color:"primary",variant:"contained",type:"submit",disabled:n},"SUBMIT")))))}}]),t}(r.a.Component),ie=Object(c.b)(function(e){return{loading:e.auth.loading,isAuthenticated:null!==e.auth.idToken,error:e.auth.error}},function(e){return{onAuth:function(t,a,n){return e(F(t,a,n))},logout:function(){return e(q())}}})(D()(function(e){return{main:Object(h.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(re)),oe=a(22),le=a(80),ce=a.n(le),se=Object(c.b)(function(e){return{loading:e.auth.loading,error:e.auth.error}},function(e){return{onAuth:function(t,a,n){return e(F(t,a,n))},logout:function(){return e(q())}}})(D()(function(e){return{main:Object(h.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(function(e){var t=e.classes,a=Object(n.useState)({formData:{email:"",password:""}}),i=Object(oe.a)(a,2),o=i[0],l=i[1],c=function(e){var t=Object(s.a)({},o).formData;t[e.target.name]=e.target.value,l({formData:t})},u=e.error?r.a.createElement(ne,Object.assign({},e,{title:"Warning",content:e.error.toString().replace("_"," "),show:null!=e.error,okAction:function(){return e.logout()},cancelAction:function(){return e.logout()}})):null,d=e.loading?r.a.createElement(ce.a,{className:t.progress}):r.a.createElement(T.a,null);return r.a.createElement("main",{className:t.main},r.a.createElement(k.a,null),r.a.createElement(x.a,{className:t.paper},r.a.createElement(v.a,{className:t.avatar},d),r.a.createElement(N.a,{component:"h1",variant:"h5"},"Sign in"),u,r.a.createElement(b.ValidatorForm,{onSubmit:function(){return e.onAuth(o.formData.email,o.formData.password,!1)}},r.a.createElement(w.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(b.TextValidator,{label:"Email",onChange:c,name:"email",value:o.formData.email,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]})),r.a.createElement(w.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(b.TextValidator,{label:"Password",onChange:c,name:"password",type:"password",validators:["required"],errorMessages:["this field is required"],value:o.formData.password})),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign in"))))})),ue=a(19),de=a(153),me=a.n(de),pe=a(154),ge=a.n(pe),he=a(103),fe=a.n(he),Ee=a(152),be=a.n(Ee),ye=a(151),ve=a.n(ye),Oe=a(65),ke=a.n(Oe),je=a(150),we=a.n(je),Se=a(33),Te=a.n(Se),Ce=a(34),xe=a.n(Ce),Ie=a(36),Ne=Object(ue.withStyles)({list:{width:250,textAlign:"center"}})(function(e){var t=e.classes,a=r.a.createElement("div",{className:t.list},r.a.createElement(ke.a,null,Object.keys(e.navItemsState).map(function(t){return r.a.createElement(Te.a,{button:!0,key:t,component:Ie.b,to:e.navItemsState[t]},r.a.createElement(xe.a,{inset:!0,primary:t}))})),r.a.createElement(we.a,null));return r.a.createElement(ve.a,{anchor:"right",open:e.show,onClose:function(){return e.toggleDrawer(!e.show)}},r.a.createElement("div",{tabIndex:0,role:"button",onClick:function(){return e.toggleDrawer(!1)},onKeyDown:function(){return e.toggleDrawer(!1)}},a))}),Ae=a(25),De=a.n(Ae),_e=function(e,t){switch(t.type){case"AUTHENTICATED":return{Menu:"/menu",Logout:"/logout"};case"UNAUTHENTICATED":return Re;case"HAS_ORDERS":return{Menu:"/menu",Checkout:"/orders/checkout",Logout:"/logout"};default:return e}},Re={"Sign in":"/signin","Sign up":"/signup"};var Pe=De()()(Object(ue.withStyles)({root:{flexGrow:1,position:"sticky",top:0,zIndex:99},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(function(e){var t=e.classes,a=Object(n.useState)(!1),i=Object(oe.a)(a,2),o=i[0],l=i[1],c=Object(n.useReducer)(_e,Re),s=Object(oe.a)(c,2),u=s[0],d=s[1];Object(n.useEffect)(function(){e.isAuthenticated?d({type:"AUTHENTICATED"}):d({type:"UNAUTHENTICATED"}),e.hasOrders&&e.isAuthenticated&&d({type:"HAS_ORDERS"})},[e.isAuthenticated,e.hasOrders]);var m=Object(Ae.isWidthDown)("xs",e.width)?r.a.createElement(fe.a,{onClick:function(){return l(!o)},className:t.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(be.a,null)):Object.keys(u).map(function(e){return r.a.createElement(E.a,{key:e,component:Ie.b,to:u[e],color:"inherit"},e)}),p=r.a.createElement(Ne,{navItemsState:u,show:o,toggleDrawer:l});return r.a.createElement("div",{className:t.root},r.a.createElement(me.a,{position:"static"},r.a.createElement(ge.a,null,r.a.createElement(N.a,{variant:"h6",color:"inherit",className:t.grow},"KINTON RAMEN"),m,p)))})),Fe=(a(347),a(20)),Le=a.n(Fe),qe={"Pork Orginal":"sea salt, pork,seasoned egg,nori, scallion","Chicken Original":"sea salt, chicken breast, seasoned egg, white onion, nori, scallion","Pork Shoyu":"soy sauce, pork, bean sprouts, nori, scallion","Chicken Shoyu":"soy sauce, chicken breast, white onion, nori, scallion","Pork Miso":"soybean paste, pork, bean sprouts, corn, scallion, garlic oil","Chicken Miso":"soybean paste, chicken breast, white onion, nori, scallion","Pork Spicy Garlic":"chili pepper, pork, bean sprouts, grated garlic, scallion","Chicken Spicy Jalapeno":"jalapeno paste, chicken breast, white onion, nori, scallion","Vegetarian Ramen":"seasoned vegetables & tofu furai in a 100% vegetarian broth"},He={"Pork Orginal":"/assets/images/pork_original.jpg","Chicken Original":"/assets/images/chicken_original.jpg","Pork Shoyu":"/assets/images/pork_shoyu.jpg","Chicken Shoyu":"/assets/images/chicken_shoyu.jpg","Pork Miso":"/assets/images/pork_miso.jpg","Chicken Miso":"/assets/images/chicken_miso.jpg","Pork Spicy Garlic":"/assets/images/pork_spicy_garlic.jpg","Chicken Spicy Jalapeno":"/assets/images/chicken_spicy_jalapeno.jpg","Vegetarian Ramen":"/assets/images/vegetarian.jpg","Thin Noodles":"/assets/images/thin_noodles.jpg","Thick Noodles":"/assets/images/thick_noodles.jpg"},Me={"Thin Noodles":"Thin Noodles","Thick Noodles":"Thick Noodles"},Ue=[{primary:"Sweet Corn",secondary:1},{primary:"Pork",secondary:1.5},{primary:"Butter",secondary:1},{primary:"Nori",secondary:1},{primary:"Chicken Breast",secondary:3.5},{primary:"Seasoned Egg",secondary:1.5},{primary:"Jalapeno Paste",secondary:1.5},{primary:"Grated Garlic",secondary:1},{primary:"Seaweed",secondary:1},{primary:"Bean Sprouts",secondary:1},{primary:"Swiss Cheese",secondary:3.5},{primary:"Seasoned Vegetables",secondary:3.5},{primary:"Scallion",secondary:1},{primary:"Garlic Oil",secondary:1}],Ve={"Pork Orginal":12.99,"Chicken Original":12.99,"Pork Shoyu":13.99,"Chicken Shoyu":13.99,"Pork Miso":13.99,"Chicken Miso":13.99,"Pork Spicy Garlic":12.99,"Chicken Spicy Jalapeno":12.99,"Vegetarian Ramen":12.99,"Thin Noodles":0,"Thick Noodles":0,"Sweet Corn":1,Pork:1.5,Butter:1,Nori:1,"Chicken Breast":3.5,"Seasoned Egg":1.5,"Jalapeno Paste":1.5,"Grated Garlic":1,Seaweed:1,"Bean Sprouts":1,"Swiss Cheese":3.5,"Seasoned Vegetables":3.5,Scallion:1,"Garlic Oil":1},We=a(81),Be=a.n(We),Ge=a(82),Je=a.n(Ge),ze=a(155),Ye=a.n(ze),Xe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).getGridListCols=function(){return Object(Ae.isWidthUp)("xl",a.props.width)?3:Object(Ae.isWidthUp)("lg",a.props.width)?3:Object(Ae.isWidthUp)("md",a.props.width)?2:Object(Ae.isWidthUp)("sm",a.props.width)?2:1},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(Be.a,{spacing:64,cellHeight:250,className:t.gridList,cols:this.getGridListCols()},this.props.options.map(function(a){return r.a.createElement(Je.a,{className:t.GridLIstTile,key:a,cols:a.cols||1},r.a.createElement("img",{className:a===e.props.choice?t.Images+" "+t.Checked:t.Images,src:"/ramenappprototype"+He[a],onClick:function(){return e.props.choiceHandler(a)},alt:a}),r.a.createElement(Ye.a,{title:a,subtitle:r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr",justifyContent:"space-around"}},r.a.createElement("span",{style:{display:"inline-block",width:"100%"}},qe[a]),r.a.createElement("span",{style:{display:"inline-block",width:"100%"}},Ve[a]))}))})))}}]),t}(r.a.Component),Ke=Object(ue.withStyles)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},Images:{"&:hover":{opacity:.65}},Checked:{opacity:.65}}})(De()()(Xe)),Qe=Object(c.b)(function(e){return{ramenChoice:e.menu.ramen}},function(e){return{ramenChoiceHandler:function(t){return e({type:"ADD_RAMEN_TYPE",ramenType:t})}}})(Object(ue.withStyles)(function(e){return{root:Object(s.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})}})(function(e){var t=e.classes,a=Object.keys(qe);return r.a.createElement("div",{className:t.root},r.a.createElement(N.a,{variant:"h5",component:"h3"},"Ramen"),r.a.createElement(Ke,{options:a,choice:e.ramenChoice,choiceHandler:e.ramenChoiceHandler}))})),Ze=Object(c.b)(function(e){return{noodleChoice:e.menu.noodle}},function(e){return{noodleChoiceHandler:function(t){return e({type:"ADD_NOODLE_TYPE",noodleType:t})}}})(Object(ue.withStyles)(function(e){return{root:Object(s.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})}})(function(e){var t=e.classes,a=Object.keys(Me);return r.a.createElement("div",{className:t.root},r.a.createElement(N.a,{variant:"h5",component:"h3"},"Noodle Type"),r.a.createElement(Ke,{options:a,choice:e.noodleChoice,choiceHandler:e.noodleChoiceHandler}))})),$e=a(156),et=a.n($e),tt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).getGridListCols=function(){return Object(Ae.isWidthUp)("xl",a.props.width)?4:Object(Ae.isWidthUp)("lg",a.props.width)?4:Object(Ae.isWidthUp)("md",a.props.width)?3:2},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(Be.a,{className:t.gridList,cols:this.getGridListCols(),cellHeight:"auto"},this.props.options.map(function(t){return r.a.createElement(Je.a,{key:t.primary,cols:1},r.a.createElement(Te.a,{key:t.primary,role:void 0,dense:!0,button:!0,onClick:function(){return e.props.checkedAction(t.primary)}},r.a.createElement(et.a,{checked:-1!==e.props.checkedItems.indexOf(t.primary),tabIndex:-1,disableRipple:!0}),r.a.createElement(xe.a,{primary:t.primary,secondary:t.secondary})))})))}}]),t}(r.a.Component),at=Object(ue.withStyles)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper}}})(De()()(tt)),nt=Object(c.b)(function(e){return{checkedExtras:e.menu.extras}},function(e){return{toggleExtraItem:function(t){return e(function(e){return{type:"TOGGLE_EXTRA_ITEM",extra:e}}(t))}}})(Object(ue.withStyles)(function(e){return{root:Object(s.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})}})(function(e){return r.a.createElement("div",{className:e.classes.root},r.a.createElement(N.a,{variant:"h5",component:"h3"},"Extra"),r.a.createElement(at,{options:Ue,checkedAction:e.toggleExtraItem,checkedItems:e.checkedExtras}))})),rt=function(){return r.a.createElement(Le.a,{container:!0,justify:"center"},r.a.createElement(Le.a,{item:!0,xs:12},r.a.createElement(Qe,null)),r.a.createElement(Le.a,{item:!0,xs:12},r.a.createElement(Ze,null)),r.a.createElement(Le.a,{item:!0,xs:12},r.a.createElement(nt,null)))},it=a(83),ot=a(158),lt=a.n(ot),ct=a(159),st=a.n(ct),ut=Object(ue.withStyles)({orderSummary:{display:"grid",gridTemplateColumns:"1fr 1fr",justifyContent:"space-between",span:{display:"block"},"&:nth-child(even)":{textAlign:"right"}}})(function(e){var t=e.classes,a=e.extras.map(function(e){return Ve[e]}).reduce(function(e,t){return e+t},0),n=(Ve[e.ramen]+a).toFixed(2);return r.a.createElement("div",{className:t.orderSummary},r.a.createElement("div",null,r.a.createElement("div",null,e.ramen),r.a.createElement("div",null,e.noodle),e.extras.length>0?e.extras.map(function(e){return r.a.createElement("div",{key:e},e)}):null,r.a.createElement("div",null,r.a.createElement("strong",null,"Price"))),r.a.createElement("div",null,r.a.createElement("div",null,Ve[e.ramen]),r.a.createElement("div",null,Ve[e.noodle]),e.extras.length>0?e.extras.map(function(e){return r.a.createElement("div",{key:e},Ve[e])}):null,r.a.createElement("div",null,r.a.createElement("strong",null,"$",n))))}),dt=a(157),mt=a.n(dt),pt=Object(c.b)(function(e){return{ramen:e.menu.ramen,noodle:e.menu.noodle,extras:e.menu.extras,orders:e.cart.orders,error:e.auth.error}},function(e){return{addOrder:function(t,a){return e(function(e,t){return{type:"ADD_ORDER",order:e,orderPrice:t}}(t,a))}}})(Object(ue.withStyles)(function(e){return{fab:{margin:0,top:"auto",left:"auto",bottom:30,right:30,position:"fixed"}}})(function(e){var t=Object(n.useState)(!1),a=Object(oe.a)(t,2),i=a[0],o=a[1];Object(n.useEffect)(function(){o(!1)},[]);var l=null!==e.ramen&&null!==e.noodle,c=e.classes,s=Object(it.a)(e,["classes"]),u=e.extras.map(function(e){return Ve[e]}).reduce(function(e,t){return e+t},0),d=Ve[e.ramen]+u,m={id:mt()(),ramen:e.ramen,noodle:e.noodle,extras:e.extras,orderPrice:d.toFixed(2)},p=function(){o(!i)},g=r.a.createElement(ut,s);return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{onClick:function(){return p()},color:"primary","aria-label":"Add",disabled:!l,className:c.fab},r.a.createElement(st.a,null)),r.a.createElement(ne,Object.assign({},e,{title:"Add the following to your order?",content:g,show:i,okAction:function(){return t=m,a=d.toFixed(2),e.addOrder(t,a),void o(!i);var t,a},cancelAction:function(){return p()}})))})),gt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(rt,null),r.a.createElement(pt,null))},ht=Object(c.b)(null,function(e){return{logout:function(){return e(q())}}})(function(e){return e.logout(),r.a.createElement(W.a,{to:"/"})}),ft=a(160),Et=a.n(ft),bt=a(161),yt=a.n(bt),vt=a(162),Ot=a.n(vt);var kt=function(){var e=Object(n.useContext)(It),t=Object(oe.a)(e,2),a=t[0],i=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{variant:"h6",gutterBottom:!0},"Delivery address"),r.a.createElement(Le.a,{container:!0,spacing:24},r.a.createElement(Le.a,{item:!0,xs:12,sm:6},r.a.createElement(b.TextValidator,{required:!0,id:"firstName",name:"firstName",label:"First name",validators:["required","lettersOnly"],errorMessages:["this field is required","Contains an invalid character"],fullWidth:!0,autoComplete:"fname",onChange:function(e){return i({type:"field",name:e.target.name,value:e.target.value})},value:a.firstName})),r.a.createElement(Le.a,{item:!0,xs:12,sm:6},r.a.createElement(b.TextValidator,{required:!0,id:"lastName",name:"lastName",label:"Last name",fullWidth:!0,validators:["required","lettersOnly"],errorMessages:["this field is required","Contains an invalid character"],autoComplete:"lname",onChange:function(e){return i({type:"field",name:e.target.name,value:e.target.value})},value:a.lastName})),r.a.createElement(Le.a,{item:!0,xs:12},r.a.createElement(b.TextValidator,{required:!0,id:"address1",name:"address1",validators:["required"],errorMessages:["this field is required"],label:"Address line 1",fullWidth:!0,autoComplete:"billing address-line1",onChange:function(e){return i({type:"field",name:e.target.name,value:e.target.value})},value:a.address1})),r.a.createElement(Le.a,{item:!0,xs:12},r.a.createElement(b.TextValidator,{id:"address2",name:"address2",label:"Address line 2",fullWidth:!0,autoComplete:"billing address-line2"})),r.a.createElement(Le.a,{item:!0,xs:12,sm:6},r.a.createElement(b.TextValidator,{required:!0,id:"city",name:"city",label:"City",fullWidth:!0,autoComplete:"billing address-level2",validators:["required","lettersOnly"],errorMessages:["this field is required","Contains an invalid character"],onChange:function(e){return i({type:"field",name:e.target.name,value:e.target.value})},value:a.city})),r.a.createElement(Le.a,{item:!0,xs:12,sm:6},r.a.createElement(b.TextValidator,{id:"state",name:"state",label:"State/Province/Region",validators:["required","lettersOnly"],errorMessages:["this field is required","Contains an invalid character"],fullWidth:!0,onChange:function(e){return i({type:"field",name:e.target.name,value:e.target.value})},value:a.state})),r.a.createElement(Le.a,{item:!0,xs:12,sm:6},r.a.createElement(b.TextValidator,{required:!0,id:"zip",name:"zip",label:"Zip / Postal code",fullWidth:!0,autoComplete:"billing postal-code",validators:["required"],errorMessages:["this field is required"],onChange:function(e){return i({type:"field",name:e.target.name,value:e.target.value})},value:a.zip})),r.a.createElement(Le.a,{item:!0,xs:12,sm:6},r.a.createElement(b.TextValidator,{required:!0,id:"country",name:"country",label:"Country",fullWidth:!0,autoComplete:"billing country",validators:["required","lettersOnly"],errorMessages:["this field is required","Contains an invalid character"],onChange:function(e){return i({type:"field",name:e.target.name,value:e.target.value})},value:a.country}))))},jt=8.95,wt=.13;var St=Object(c.b)(function(e){return{orders:e.cart.orders,subTotal:e.cart.subTotal}})(Object(ue.withStyles)(function(e){return{listItem:{padding:"".concat(e.spacing.unit,"px 0")},total:{fontWeight:"700"},title:{marginTop:2*e.spacing.unit}}})(function(e){var t=Object(n.useContext)(It),a=Object(oe.a)(t,1)[0],i=a.firstName,o=a.lastName,l=Object(it.a)(a,["firstName","lastName"]),c=e.classes,s=e.orders,u=e.subTotal,d=parseFloat(wt*u),m=parseFloat(d+u+jt);return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{variant:"h6",gutterBottom:!0},"Order summary:"),r.a.createElement(ke.a,{disablePadding:!0},s.map(function(e){return r.a.createElement(Te.a,{className:c.listItem,key:e.id},r.a.createElement(xe.a,{primary:"".concat(e.ramen," ").concat(e.noodle),secondary:e.extras.toString()}),r.a.createElement(N.a,{variant:"body2"},e.orderPrice))}),r.a.createElement(Te.a,{className:c.listItem},r.a.createElement(xe.a,{primary:"Subtotal"}),r.a.createElement(N.a,{variant:"subtitle1",className:c.total},u.toFixed(2))),r.a.createElement(Te.a,{className:c.listItem},r.a.createElement(xe.a,{primary:"Delivery Fees"}),r.a.createElement(N.a,{variant:"subtitle1",className:c.total},jt)),r.a.createElement(Te.a,{className:c.listItem},r.a.createElement(xe.a,{primary:"Taxes"}),r.a.createElement(N.a,{variant:"subtitle1",className:c.total},d.toFixed(2))),r.a.createElement(Te.a,{className:c.listItem},r.a.createElement(xe.a,{primary:"Total"}),r.a.createElement(N.a,{variant:"subtitle1",className:c.total},m.toFixed(2)))),r.a.createElement(Le.a,{container:!0,spacing:16},r.a.createElement(Le.a,{item:!0,xs:12,sm:12},r.a.createElement(N.a,{variant:"h6",gutterBottom:!0,className:c.title},"Delivering to:"),r.a.createElement(N.a,{gutterBottom:!0},"".concat(i," ").concat(o)),r.a.createElement(N.a,{gutterBottom:!0},Object.values(l).join(", ")))))})),Tt=["Delivery address","Review your order"],Ct=function(e,t){switch(t.type){case"field":return Object(s.a)({},e,Object(h.a)({},t.name,t.value));case"reset":return t.payload;default:return e}},xt={firstName:"",lastName:"",address1:"",city:"",state:"",zip:"",country:""},It=r.a.createContext(),Nt=Object(c.b)(function(e){return{orders:e.cart.orders,userId:e.auth.userId,idToken:e.auth.idToken,sendingOrder:e.checkout.sending,purchaseOrderId:e.checkout.purchaseOrderId,checkoutError:e.checkout.error}},function(e){return{submitOrders:function(t,a,n,r){e(function(e,t,a,n){return function(r){r(M());var i={userId:n,submissionTime:new Date,orders:Object(s.a)({},t),deliveryInfo:Object(s.a)({},a)};H.post("/orders.json?auth="+e,i).then(function(e){r(U(e.data.name))}).catch(function(e){r(V(e.response.data.error))})}}(t,a,n,r))}}})(D()(function(e){return{appBar:{position:"relative"},layout:Object(h.a)({width:"auto",marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit},e.breakpoints.up(600+2*e.spacing.unit*2),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(h.a)({marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit,padding:2*e.spacing.unit},e.breakpoints.up(600+3*e.spacing.unit*2),{marginTop:6*e.spacing.unit,marginBottom:6*e.spacing.unit,padding:3*e.spacing.unit}),stepper:{padding:"".concat(3*e.spacing.unit,"px 0 ").concat(5*e.spacing.unit,"px")},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:3*e.spacing.unit,marginLeft:e.spacing.unit}}})(function(e){var t=Object(n.useState)(0),a=Object(oe.a)(t,2),i=a[0],o=a[1],l=Object(n.useRef)(null),c=Object(n.useReducer)(Ct,xt),s=Object(oe.a)(c,2),u=s[0],d=s[1];Object(n.useEffect)(function(){var e=localStorage.getItem("ramenAppAddressFormData");e&&d({type:"reset",payload:JSON.parse(e)})},[]),Object(n.useEffect)(function(){localStorage.setItem("ramenAppAddressFormData",JSON.stringify(u))},[u]);Object(n.useEffect)(function(){b.ValidatorForm.addValidationRule("lettersOnly",function(e){return!/[^a-zA-Z\s]/g.test(e)})},[]);var m=e.classes,p=e.sendingOrder?r.a.createElement(ce.a,null):null,g=e.purchaseOrderId?r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{variant:"h5",gutterBottom:!0},"Thank you for your order."),r.a.createElement(N.a,{variant:"subtitle1"},"Your order ID is ",e.purchaseOrderId.replace(/-|_/g,""),". We have emailed your order confirmation, and will send you an update of the status of your delivery.")):null;i!==Tt.length||e.purchaseOrderId||e.sendingOrder||e.checkoutError||e.submitOrders(e.idToken,e.orders,u,e.userId);var h=e.checkoutError?r.a.createElement("h1",null,e.checkoutError):null,f=i<Tt.length?r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(kt,null);case 1:return r.a.createElement(St,null);default:throw new Error("Unknown step")}}(i),r.a.createElement("div",{className:m.buttons},0!==i&&r.a.createElement(E.a,{onClick:function(e){e.preventDefault(),o(i-1)},className:m.button},"Back"),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),l.current.isFormValid(!1).then(function(e){e&&o(i+1)})},className:m.button},i===Tt.length-1?"Place order":"Next"))):null;return r.a.createElement(It.Provider,{value:[u,d]},r.a.createElement(b.ValidatorForm,{ref:l,instantValidate:!0,onSubmit:function(){return console.log("submitting")}},r.a.createElement(k.a,null),r.a.createElement("main",{className:m.layout},r.a.createElement(x.a,{className:m.paper},r.a.createElement(N.a,{component:"h1",variant:"h4",align:"center"},"Checkout"),r.a.createElement(Et.a,{activeStep:i,className:m.stepper},Tt.map(function(e){return r.a.createElement(yt.a,{key:e},r.a.createElement(Ot.a,null,e))})),h,p,g,f))))})),At=Object(c.b)(function(e){return{isAuthenticated:null!==e.auth.idToken,hasOrders:e.cart.orders.length>0,idToken:e.auth.idToken,userId:e.auth.userId}},function(e){return{validUserAlreadyLoggedIn:function(){return e(function(e){var t=localStorage.getItem("token");t||e(q());var a={idToken:t};R.a.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/getAccountInfo?key=AIzaSyCc105jdNCASMJIslySAslIHCJF3zn7eFQ",a).then(function(a){var n=a.data.users[0].localId;localStorage.setItem("userId",n),e(P(t,n))}).catch(function(t){e(q())})})}}})(function(e){localStorage.getItem("token")&&!e.isAuthenticated&&e.validUserAlreadyLoggedIn();var t=e.isAuthenticated?r.a.createElement(W.d,null,r.a.createElement(W.b,{path:"/",exact:!0,strict:!0,component:gt}),r.a.createElement(W.b,{path:"/menu",exact:!0,strict:!0,component:gt}),r.a.createElement(W.b,{path:"/logout",exact:!0,component:ht}),e.hasOrders?r.a.createElement(W.b,{path:"/orders/checkout",exact:!0,component:Nt}):null,r.a.createElement(W.a,{to:"/",component:gt})):r.a.createElement(W.d,null,r.a.createElement(W.b,{path:"/signup",component:ie}),r.a.createElement(W.b,{path:"/signin",component:se}),r.a.createElement(W.a,{to:"/signup",component:ie}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{isAuthenticated:e.isAuthenticated,hasOrders:e.hasOrders}),t)}),Dt=a(57),_t={orders:[],subTotal:0,purchased:!1},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ORDER":var a=Object(Dt.a)(e.orders),n=Object(s.a)({},t.order);a.push(n);var r=+e.subTotal+ +t.orderPrice;return Object(s.a)({},e,{orders:a,subTotal:r});case"REMOVE_ORDER":var i=e.orders.filter(function(e){return e.id===t.id}),o=Object(oe.a)(i,1)[0],l=e.subTotal-+o.orderPrice,c=Object(Dt.a)(e.orders).filter(function(e){return e.id!==t.id});return Object(s.a)({},e,{orders:c,subTotal:l});default:return e}},Pt={idToken:null,userId:null,error:null,loading:!1},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Object(s.a)({},e,{error:null,loading:!0});case"AUTH_SUCCESS":return Object(s.a)({},e,{loading:!1,idToken:t.idToken,userId:t.userId});case"AUTH_FAIL":return Object(s.a)({},e,{loading:!1,error:t.error});case"AUTH_LOGOUT":return Object(s.a)({},e,{loading:!1,idToken:null,userId:null,error:null});default:return e}},Lt={ramen:null,noodle:null,extras:[]},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RAMEN_TYPE":return Object(s.a)({},e,{ramen:t.ramenType});case"ADD_NOODLE_TYPE":return Object(s.a)({},e,{noodle:t.noodleType});case"TOGGLE_EXTRA_ITEM":var a=e.extras.indexOf(t.extra),n=Object(Dt.a)(e.extras);return-1===a?n.push(t.extra):n.splice(a,1),Object(s.a)({},e,{extras:Object(Dt.a)(n)});case"ADD_ORDER":return Object(s.a)({},Lt);default:return e}},Ht={sending:!1,purchaseOrderId:null,error:null},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_ORDERS_INIT":return Object(s.a)({},e,{sending:!0});case"SEND_ORDERS_SUCCESS":return Object(s.a)({},e,{sending:!1,purchaseOrderId:t.purchaseOrderId});case"SEND_ORDERS_FAIL":return Object(s.a)({},e,{sending:!1,error:t.error});default:return e}},Ut={error:null,ordersHistory:null,isLoading:!1},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ORDERS_HISTORY_INIT":return Object(s.a)({},e,{isLoading:!0});case"FETCH_ORDERS_HISTORY_SUCCESS":return Object(s.a)({},e,{isLoading:!1,ordersHistory:t.ordersHistory});case"FETCH_ORDERS_HISTORY_FAIL":return Object(s.a)({},e,{isLoading:!1,error:t.error});default:return e}},Wt=a(163),Bt=Object(l.c)({menu:qt,cart:Rt,auth:Ft,checkout:Mt,ordersHistory:Vt}),Gt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,Jt=Object(l.e)(Bt,Gt(Object(l.a)(Wt.a)));o.a.render(r.a.createElement(c.a,{store:Jt},r.a.createElement(Ie.a,{basename:"/ramenappprototype"},r.a.createElement(At,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[164,1,2]]]);
//# sourceMappingURL=main.6f2c1a70.chunk.js.map